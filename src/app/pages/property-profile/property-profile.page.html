<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-button (click)="navigateHome()">
        <ion-icon name="arrow-back-outline" color="light"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Information</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content *ngIf="details">
  <ion-slides pager="true" *ngIf="details['imageId'].length > 0; else noimage">
    <ion-slide *ngFor="let image of details['imageId']">
      <img src="{{url}}post/postImage?id={{image}}" alt="" />
    </ion-slide>
  </ion-slides>
  <ng-template #noimage>
    <ion-slides pager="true">
      <ion-slide>
        <img src="{{url}}post/postImage?id=" alt="" />
      </ion-slide>
    </ion-slides>
  </ng-template>

  <ion-grid class="info">
    <ion-row>
      <ion-col size="8">
        <h4>
          {{propertyName}}
        </h4>
        <p>
          <app-rating postId="{{properytId}}"></app-rating>
        </p>
        <p>
          <ion-icon name="person-outline"></ion-icon
          ><a href=""> {{ details["personName"] }}</a>
        </p>
      </ion-col>

      <ion-col size="2">
        <ion-icon
          name="location-outline"
          class="button"
          (click)="navigateMap( details['Longitude'], details['Latitude'])"
        ></ion-icon>
      </ion-col>
      <ion-col size="2">
        <ion-icon
          name="chatbox-ellipses"
          class="button"
          (click)="newMessage()"
        ></ion-icon>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <h5>Address</h5>
        <p>
          <ion-icon name="home-outline"></ion-icon>
          {{ details["LocationInfo"]}}
        </p>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <h5>Description</h5>
        <p>
          <ion-icon name="thumbs-up-outline"></ion-icon>
          {{ details["Description"] }}
        </p>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <h5>Services</h5>
      </ion-col>
      <ion-col
        size="12"
        *ngFor="let s of details.services"
        (click)="navigateMap( s.Longitude, s.Latitude)"
        ><ion-icon name="business-outline"></ion-icon>
        <span>{{s.ServiceEntityName}}</span></ion-col
      >
    </ion-row>

    <ion-row>
      <ion-col size="12">
        <div class="ratingDiv" *ngIf="!hasRated">
          <h5>Rate</h5>
          <h1>
            <ion-label (click)="goRate(1)">
              <ion-icon name="star-outline"></ion-icon>
            </ion-label>
            <ion-label (click)="goRate(2)">
              <ion-icon name="star-outline"></ion-icon>
            </ion-label>
            <ion-label (click)="goRate(3)">
              <ion-icon name="star-outline"></ion-icon>
            </ion-label>
            <ion-label (click)="goRate(4)">
              <ion-icon name="star-outline"></ion-icon>
            </ion-label>
            <ion-label (click)="goRate(5)">
              <ion-icon name="star-outline"></ion-icon>
            </ion-label>
          </h1>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
